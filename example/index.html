<!DOCTYPE html>
<html>
<head>
    <title>FlashWarp Demo</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
    <script type="text/javascript">
        function embedCallback(e)
        {
            var warp = $FlashWarp("FlashContent");

            warp.binding("textfield").addListener(function (value) {
                document.getElementById("textField").setAttribute("value", value);
            });
            
            document.getElementById("textField").onchange = function (e) {
                warp.binding("textfield").setValue(this.value);
            };
            
            warp.map("test", function(i){ 
                //alert(i); 
                warp.invoke("test", "Hello Flash");
            });
        }
        
        var swfVersionStr = "0";
        var xiSwfUrlStr = "";
        var flashvars = {};
        var params = {};
        params.quality = "high";
        params.bgcolor = "#ffffff";
        params.allowscriptaccess = "always";
        var attributes = {};
        attributes.id = "FlashContent";
        attributes.name = "FlashContent";
        attributes.align = "middle";
        swfobject.embedSWF(
            "app/bin/App.swf", "FlashContainer",
            "100%", "100%",
            swfVersionStr, xiSwfUrlStr,
            flashvars, params, attributes, embedCallback);
    </script>
    <script src="../js/flashwarp.js" type="text/javascript"></script>   
</head>
<body>
    <div id="FlashContainer"></div>
    <input id="textField" />
</body>
</html>